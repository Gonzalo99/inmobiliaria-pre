<!--Cabecera-->
<div class="row head">

    <div class="col-lg-12 titulo d-flex justify-content-center">

        <a class="fa fa-arrow-left pr-5 pt-1 return" [routerLink]="['/admin']"></a>

        <div style="float: left;">Técncica</div>
        <div style="float: left; padding-left: 8px; padding-right: 8px; color: #e80f46;">&</div>
        <div style="float: left;">Arquitectura</div>

    </div>

</div>

<div class="row div-fotos">

    <div class="col">
        <div class="text1">
            <div class="line"></div>FOTOS
            <div class="line"></div>
        </div>

        <div class="d-flex justify-content-center mt-5">
            <div *ngFor="let imagen of imagenes">
                <img class="p-2" src="{{url_img}}{{imagen.ruta}}" width="170" height="170">
                <a class="fas fa-trash pr-5 pt-1" [routerLink]="" data-toggle="tooltip" data-placement="bottom" title="Eliminar" (click)="deleteImagen(imagen.id, imagen.ruta)"></a>
            </div>

        </div>

        <div style="display: inline-grid">
            <label class="lead mt-5">Añadir Imagen Inmueble</label>
            <input type="file" class="mb-5" (change)="fileChangeEvent($event)" />

            <div class="alert correct-img alert-success" style="visibility: hidden;">
                Imagen añadida correctamente.
            </div>

        </div>

        <hr style="background-color: #ff3c48;">

    </div>

</div>

<div class="row" style="background-color: #EAE6E6;">

    <div class="col mt-5">

        <form #formInmueble="ngForm" class="formulario">
            <div class="form-group row">
                <div class="col-12 col-md-4 mb-3">
                    <label for="titulo">Titulo*</label>
                    <input type="text" #titulo="ngModel" [(ngModel)]="inmueble.titulo" class="form-control" name="titulo" id="titulo">
                </div>

                <div class="col-12 col-md-4 mb-3">
                    <label for="tipo">Tipo*</label>
                    <select type="text" #tipo="ngModel" [(ngModel)]="inmueble.tipo" class="form-control" name="tipo" id="tipo">
                        <option value="casa">Casa</option>
                        <option value="piso">Piso</option>
                        <option value="chalet">Chalet</option>
                        <option value="locales">Locales</option>
                        <option value="naves">Naves</option>
                        <option value="salares">Solares</option>
                        <option value="fincas">Fincas</option>
                    </select>
                </div>

                <div class="col-12 col-md-4 mb-3">
                    <label for="metros">Metros*</label>
                    <input type="number" #metros="ngModel" [(ngModel)]="inmueble.metros" class="form-control" name="metros" id="metros">
                </div>
            </div>

            <div class="form-group row">
                <div class="col-12 col-md-4 mb-3">
                    <label for="correo">Precio*</label>
                    <input type="number" #precio="ngModel" [(ngModel)]="inmueble.precio" class="form-control" name="precio" id="precio">
                </div>
                <div class="col-12 col-md-4 mb-3">
                    <label for="correo">Dirección*</label>
                    <input type="text" #direccion="ngModel" [(ngModel)]="inmueble.direccion" class="form-control" name="direccion" id="direccion">
                </div>
                <div class="col-12 col-md-4 mb-3">
                    <label for="estado">Estado*</label>
                    <select type="text" #estado="ngModel" [(ngModel)]="inmueble.estado" class="form-control" name="estado" id="estado">
                        <option value="nuevo">Nuevo</option>
                        <option value="usado">Usado</option>
                    </select>
                </div>
            </div>

            <div *ngIf="inmueble.tipo == 'piso'" class="form-group row opcional">

                <div class="col-12 col-md-6 mb-3">
                    <label for="planta">Planta*</label>
                    <input type="number" #planta="ngModel" [(ngModel)]="inmueble.planta" class="form-control" name="planta" id="planta">
                </div>

                <div class="col-12 col-md-6 mb-3">
                    <label for="ascensor">Ascensor*</label>
                    <select type="text" #ascensor="ngModel" [(ngModel)]="inmueble.ascensor" class="form-control" name="ascensor" id="ascensor">
                        <option value=1>Si</option>
                        <option value=0>No</option>
                    </select>
                </div>

            </div>

            <div class="form-group row">

                <div class="col-12 mb-3">
                    <label for="contenido">Descripción*</label>
                    <textarea type="text" #asunto="ngModel" [(ngModel)]="inmueble.contenido" class="form-control" name="contenido" id="contenido">
                    </textarea>
                </div>

            </div>

            <div class="form-group row">

                <div class="col-12 col-md-4 mb-3">
                    <label for="garaje">Garaje*</label>
                    <select type="text" #garaje="ngModel" [(ngModel)]="inmueble.garaje" class="form-control" name="garaje" id="garaje">
                        <option value=1>Si</option>
                        <option value=0>No</option>
                    </select>
                </div>

                <div class="col-12 col-md-4 mb-3">
                    <label for="oferta">Oferta*</label>
                    <select type="text" #oferta="ngModel" [(ngModel)]="inmueble.oferta" class="form-control" name="oferta" id="oferta">
                        <option value=1>Si</option>
                        <option value=0>No</option>
                    </select>
                </div>

                <div *ngIf="inmueble.estado == 'usado'" class="col-12 col-md-4 mb-3">
                    <label for="antiguedad">Antiguedad*</label>
                    <input type="number" #antiguedad="ngModel" [(ngModel)]="inmueble.antiguedad" class="form-control" name="antiguedad" id="antiguedad">
                </div>

            </div>

            <div class="form-group row">
                <div class="col-12 text-center">
                    <div class="row justify-content-center">
                        <div class="col-12 col-sm-9 col-md-4 mt-3">
                            <button class="btn btn-danger btn-block" type="submit" (click)="updateInmueble()">Confirmar Cambios</button>
                        </div>
                    </div>
                </div>
            </div>

        </form>

    </div>

    <div class="col-12">

        <div class="alert alert-1 alert-success mt-3" style="visibility: hidden;">
            <p>Cambios realizados correctamente</p>
        </div>

        <div class="alert alert-2 alert-danger mt-3" style="visibility: hidden;">
            <p>Los cambios no se han podido realizar</p>
        </div>

    </div>

</div>